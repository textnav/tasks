<div class="task-item" [class.done]="task.done && !isEditing">
  <div class="check">
    <input type="checkbox" [checked]="task.done" (change)="toggle()" />
    <div class="ripple-container">
      <div class="check-off"></div>
      <div class="check-on"></div>
      <div class="check-ripple"></div>
    </div>
  </div>
  <div class="label" *ngIf="!isEditing">
    <div class="text" [class.checked]="task.done" [innerHTML]="task.text | tagHighlight"></div>
    <div class="flex">
      <div class="time" *ngIf="task.dueDate">
        <span *ngIf="!task.done">{{ task.dueDate | timeTo }} (</span>
        <time>{{ task.dueDate | date: 'medium' }}</time>
        <span *ngIf="!task.done">) </span>
      </div>
      <div class="flex actions">
        <button aria-label="edit task" (click)="edit()">Edit</button>
        <button aria-label="delete task" (click)="delete()">Delete</button>
      </div>
    </div>
  </div>
  <div class="label" *ngIf="isEditing">
    <div class="text">
      <app-add-task [item]="task" (savedTask)="save()"></app-add-task>
    </div>
    <div class="flex actions">
      <button aria-label="cancel save" (click)="cancel()">Cancel</button>
      <small>Please press enter/return to save</small>
    </div>
  </div>
  <span class="task-msg">Well done!</span>
</div>
